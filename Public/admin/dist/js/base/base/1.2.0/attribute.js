/*! zuboke 2015-01-26 */
function isString(a){return"[object String]"===toString.call(a)}function isFunction(a){return"[object Function]"===toString.call(a)}function isWindow(a){return null!=a&&a==a.window}function isPlainObject(a){if(!a||"[object Object]"!==toString.call(a)||a.nodeType||isWindow(a))return!1;try{if(a.constructor&&!hasOwn.call(a,"constructor")&&!hasOwn.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}var c;if(iteratesOwnLast)for(c in a)return hasOwn.call(a,c);for(c in a);return void 0===c||hasOwn.call(a,c)}function isEmptyObject(a){if(!a||"[object Object]"!==toString.call(a)||a.nodeType||isWindow(a)||!a.hasOwnProperty)return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function merge(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=cloneValue(b[c],a[c]));return a}function cloneValue(a,b){return isArray(a)?a=a.slice():isPlainObject(a)&&(isPlainObject(b)||(b={}),a=merge(b,a)),a}function mergeInheritedAttrs(a,b,c){for(var d=[],e=b.constructor.prototype;e;)e.hasOwnProperty("attrs")||(e.attrs={}),copySpecialProps(c,e.attrs,e),isEmptyObject(e.attrs)||d.unshift(e.attrs),e=e.constructor.superclass;for(var f=0,g=d.length;g>f;f++)mergeAttrs(a,normalize(d[f]))}function mergeUserValue(a,b){mergeAttrs(a,normalize(b,!0),!0)}function copySpecialProps(a,b,c,d){for(var e=0,f=a.length;f>e;e++){var g=a[e];c.hasOwnProperty(g)&&(b[g]=d?b.get(g):c[g])}}function parseEventsFromAttrs(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d,e=b[c].value;isFunction(e)&&(d=c.match(EVENT_PATTERN))&&(a[d[1]](getEventName(d[2]),e),delete b[c])}}function getEventName(a){var b=a.match(EVENT_NAME_PATTERN),c=b[1]?"change:":"";return c+=b[2].toLowerCase()+b[3]}function setSetterAttrs(a,b,c){var d={silent:!0};a.__initializingAttrs=!0;for(var e in c)c.hasOwnProperty(e)&&b[e].setter&&a.set(e,c[e],d);delete a.__initializingAttrs}function normalize(a,b){var c={};for(var d in a){var e=a[d];c[d]=!b&&isPlainObject(e)&&hasOwnProperties(e,ATTR_SPECIAL_KEYS)?e:{value:e}}return c}function mergeAttrs(a,b,c){var d,e,f;for(d in b)if(b.hasOwnProperty(d)){if(e=b[d],f=a[d],f||(f=a[d]={}),void 0!==e.value&&(f.value=cloneValue(e.value,f.value)),c)continue;for(var g in ATTR_OPTIONS){var h=ATTR_OPTIONS[g];void 0!==e[h]&&(f[h]=e[h])}}return a}function hasOwnProperties(a,b){for(var c=0,d=b.length;d>c;c++)if(a.hasOwnProperty(b[c]))return!0;return!1}function isEmptyAttrValue(a){return null==a||(isString(a)||isArray(a))&&0===a.length||isEmptyObject(a)}function isEqual(a,b){if(a===b)return!0;if(isEmptyAttrValue(a)&&isEmptyAttrValue(b))return!0;var c=toString.call(a);if(c!=toString.call(b))return!1;switch(c){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase;case"[object Array]":var d=a.toString(),e=b.toString();return-1===d.indexOf("[object")&&-1===e.indexOf("[object")&&d===e}if("object"!=typeof a||"object"!=typeof b)return!1;if(isPlainObject(a)&&isPlainObject(b)){if(!isEqual(keys(a),keys(b)))return!1;for(var f in a)if(a[f]!==b[f])return!1;return!0}return!1}exports.initAttrs=function(a){var b=this.attrs={},c=this.propsInAttrs||[];mergeInheritedAttrs(b,this,c),a&&mergeUserValue(b,a),setSetterAttrs(this,b,a),parseEventsFromAttrs(this,b),copySpecialProps(c,this,b,!0)},exports.get=function(a){var b=this.attrs[a]||{},c=b.value;return b.getter?b.getter.call(this,c,a):c},exports.set=function(a,b,c){var d={};isString(a)?d[a]=b:(d=a,c=b),c||(c={});var e=c.silent,f=c.override,g=this.attrs,h=this.__changedAttrs||(this.__changedAttrs={});for(a in d)if(d.hasOwnProperty(a)){var i=g[a]||(g[a]={});if(b=d[a],i.readOnly)throw new Error("This attribute is readOnly: "+a);i.setter&&(b=i.setter.call(this,b,a));var j=this.get(a);!f&&isPlainObject(j)&&isPlainObject(b)&&(b=merge(merge({},j),b)),g[a].value=b,this.__initializingAttrs||isEqual(j,b)||(e?h[a]=[b,j]:this.trigger("change:"+a,b,j,a))}return this},exports.change=function(){var a=this.__changedAttrs;if(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];this.trigger("change:"+b,c[0],c[1],b)}delete this.__changedAttrs}return this},exports._isPlainObject=isPlainObject;var toString=Object.prototype.toString,hasOwn=Object.prototype.hasOwnProperty,iteratesOwnLast;!function(){function a(){this.x=1}var b=[];a.prototype={valueOf:1,y:1};for(var c in new a)b.push(c);iteratesOwnLast="x"!==b[0]}();var isArray=Array.isArray||function(a){return"[object Array]"===toString.call(a)},keys=Object.keys;keys||(keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b});var EVENT_PATTERN=/^(on|before|after)([A-Z].*)$/,EVENT_NAME_PATTERN=/^(Change)?([A-Z])(.*)/,ATTR_SPECIAL_KEYS=["value","getter","setter","readOnly"],ATTR_OPTIONS=["setter","getter","readOnly"];