/*! zuboke 2015-01-26 */
var $=require("jquery"),moment=require("moment"),Widget=require("arale-widget"),current_date=moment();current_date=moment([current_date.year(),current_date.month(),current_date.date()]);var BaseColumn=Widget.extend({attrs:{focus:{value:"",getter:function(a){return a?a:current_date},setter:function(a){return a?moment.isMoment(a)?a:moment(a,this.get("format")):current_date}},template:null,format:"YYYY-MM-DD",range:{value:"",getter:function(a){if(!a)return null;if($.isArray(a)){var b=a[0];b&&b.length>4&&(b=moment(b,this.get("format")));var c=a[1];return c&&c.length>4&&(c=moment(c,this.get("format"))),[b,c]}return a}},lang:{}},compileTemplate:function(){var a=this.get("template");if(!a)return"";var b=this.get("model"),c=this.get("lang")||{};return a(b,{helpers:{_:function(a){return c[a]||a}}})},parseElement:function(){this.element=$(this.compileTemplate())},show:function(){this.render(),this.focus()},hide:function(){this.element.hide()},refresh:function(){this.element.html($(this.compileTemplate()).html())}});module.exports=BaseColumn,BaseColumn.isInRange=function(a,b){if(null==b)return!0;if($.isArray(b)){var c=b[0],d=b[1],e=!0;return c&&(e=e&&a>=c),d&&(e=e&&d>=a),e}return $.isFunction(b)?b(a):!0};